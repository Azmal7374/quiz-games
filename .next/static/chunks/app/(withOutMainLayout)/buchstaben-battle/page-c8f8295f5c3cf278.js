(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[378],{20408:(e,t,i)=>{Promise.resolve().then(i.bind(i,81833))},81833:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(95155),a=i(12115),s=i(16020),c=i(30814),o=i(20812),l=i(51614),r=i(21549);let d=e=>{let{onGameStart:t,onAnswer:i}=e,[s,c]=(0,a.useState)([]),[d,h]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=(0,o.cH)();return e.on("newPlayer",e=>{c(t=>[...t,e])}),e.on("gameStarted",()=>{h(!0)}),()=>{(0,o.G1)()}},[]),(0,n.jsx)("div",{children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)("h2",{children:"Multiplayer Trivia Game"}),(0,n.jsxs)("h2",{children:["Players: ",s.join(", ")]}),d?(0,n.jsx)(l.T,{onClick:()=>i("Example Answer"),children:"Submit Answer"}):(0,n.jsx)(l.T,{onClick:()=>t(),children:"Start Game"})]})})},h=()=>{let[e,t]=(0,a.useState)(["A","B","C","D"]),[i,r]=(0,a.useState)(!1),[h,u]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),[y,p]=(0,a.useState)(0),[j,w]=(0,a.useState)(30),[f,S]=(0,a.useState)(0),[g,k]=(0,a.useState)(null),[v,P]=(0,a.useState)(new Set),C=()=>{let e=(0,o.Ol)();e&&e.emit("startGame"),r(!0),p(0),w(30),S(0),k(null),P(new Set)},M=e=>{let t=(0,o.Ol)();if(!t){c.oR.error("Socket not connected!");return}if(v.has(e.toLowerCase())){c.oR.error("This word has already been used!");return}t.emit("answer",{playerId:t.id,word:e}),p(e=>e+10),P(t=>new Set(t.add(e.toLowerCase()))),y+10>f&&S(y+10)};return(0,a.useEffect)(()=>{let e=["City","Food","Animal"];m(e[Math.floor(Math.random()*e.length)])},[i]),(0,a.useEffect)(()=>{let e;return j>0&&i?e=setInterval(()=>{w(e=>e-1)},1e3):0===j&&i&&k("Player with highest points!"),()=>{clearInterval(e)}},[j,i]),(0,a.useEffect)(()=>{g&&c.oR.success("".concat(g," has won with ").concat(f," points!"))},[g,f]),(0,a.useEffect)(()=>{i&&u(e[Math.floor(Math.random()*e.length)])},[i,j]),(0,n.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",children:(0,n.jsxs)(s.P.div,{className:"w-full max-w-2xl p-6 rounded-lg shadow-lg bg-white",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[(0,n.jsx)(d,{onGameStart:C,onAnswer:M}),i?(0,n.jsxs)(s.P.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,n.jsxs)("h2",{children:["Select a word starting with: ",h]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-4 justify-center",children:(0,n.jsx)(s.P.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},transition:{duration:.2},children:(0,n.jsx)(l.T,{onClick:()=>M(h),color:"secondary",size:"lg",className:"w-24 h-24 h2-xl",children:h})},h)}),(0,n.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,n.jsxs)("h2",{children:["Category: ",x]})}),(0,n.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,n.jsxs)("h2",{children:["Time Left: ",j,"s"]})}),(0,n.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,n.jsxs)("h2",{children:["Score: ",y]})}),(0,n.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,n.jsxs)("h2",{children:["Max Score: ",f]})}),g&&(0,n.jsx)(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,n.jsxs)("h2",{className:"text-xl text-green-500",children:[g," has won with ",f," points!"]})})]}):(0,n.jsx)(s.P.div,{initial:{y:-50},animate:{y:0},exit:{y:-50},transition:{duration:.5},children:(0,n.jsx)(l.T,{onClick:C,color:"primary",fullWidth:!0,size:"lg",className:"mb-4",children:"Start Game"})})]})})}},20812:(e,t,i)=>{"use strict";i.d(t,{G1:()=>s,Ol:()=>c,cH:()=>a});let n=null,a=()=>(n||(console.log("Mock socket connected"),n={id:"mockSocketId",on:(e,t)=>{"connect"===e&&t()},emit:(e,t)=>{console.log("Mock socket emitted event: ".concat(e),t)},disconnect:()=>{console.log("Mock socket disconnected")}}),n),s=()=>{n&&(n.disconnect(),console.log("Mock socket disconnected"))},c=()=>(n||(console.log("Mock socket not connected, connecting..."),a()),n)}},e=>{var t=t=>e(e.s=t);e.O(0,[334,524,614,814,20,549,441,517,358],()=>t(20408)),_N_E=e.O()}]);